\section{Swarm Fusion instantiation}
We compare SF against competing approaches over three problems in
Computer Vision. SF framework has high degrees of freedom and the
challenge is to properly quantity the contributions of various
algorithmic aspects. For this purpose, we have used the three SF
architectures illustrated in Fig.~\ref{fig:model}. For some problems, we
have further limited the capabilities of SF on purpose, to enable
effective and fair comparative evaluations. We now explain the details
of the three problems.

\hang{Better to explain the methology we used, either here or in
  Result part. For example:}

\hang{To evaluate the effectness of different parallel structures, we
  plot the energy minimization process against time. We define the
  energy of the parallel system at a certain time as the minimum
  energy of all threads at that time.}


% We pick three representative problems in Computer Vision to evaluate the
% effectiveness of the Fusion swarm methods against existing methods. We
% control the SF architectures for each problem independently to make
% compa
%
%\yasu{this section is very rough at the moment. requires polishing. but
%algorithms might change as we run experiments.}  We now explain detailed
%implementation of the Swarm Fusion method for three problems in Computer
%Vision (See Fig.~\ref{fig:problem}).  5
\begin{figure}[tb]
 \includegraphics[width=\columnwidth]{figure/problem.pdf} \caption{We
 compare our Swarm Fusion method against competing approaches on a
 depthmap stereo~\cite{middle_bury_stereo}, an optical
 flow~\cite{middlebury_optical_flow}, or a layered depthmap
 estimation~\cite{layered_depthmap} problem. In the layered depthmap
 problem, the input is an RGBD image, and the output is multiple layeres
 of depthmaps. Each layer is a piecewise smooth parametric surface
 model.}\label{fig:problem}
\end{figure}



\subsection{Swarm Fusion stereo}
We start with a simple depthmap stereo problem with standard unary and
pairwise terms. We employ submodular pairwise terms to make this stereo
represent relatively ``easy'' MRF inference problems.
%
Unary terms are computed as the average robust photoconsistancy
score~\cite{woodford} between the reference image and the others inside a $7\times 7$
pixels window.
\begin{equation}
  \text{\hang{equation to fill in}}
\end{equation}
Pairwise terms are simple truncated absolute label
difference with maximum label difference $\sigma_s=4$. The total energy is
defined by the sum of the two, while scaling the pairwise term by a
factor of $0.005$. For simplicity we don't enforce visibility constraint.

%
We performed our experiments on Book sequence from Middlebury stereo datasets.~\cite{middlebury_stereo}.

\mysubsubsection{Competing methods}

\noindent The sophistication of photometric consistency
function~\cite{mvs_furukawa_survey} makes unary terms dominant in most
stereo problems.  Our experiments have also supported this, where the
fusion method (i.e., the use of proposal generation) rather makes it
slow due to the overhead.\hang{Don't quite understand this
  sentence. Does the ``dominant'' means running time or energy? In my
  experiments, unary terms are pre-computed and are not counted into
  the running time} Therefore, we have chosen Parallel Alpha
Expansion~\cite{delong} and Hierarchical Fusion~\cite{delong,olga}
with graph-cuts optimization as the competing methods.

Since the optimization in the above stereo problem is fairly easy, we
compare our method with both parallel alpha expansion
\cite{first_fusion_viktor} and hierarchy fusion \cite{olga}. 

add Alpha Expansion.
uniform and random splitting for parallel alpha expansion


\mysubsubsection{Swarm Fusion architectures}

\noindent The three swarm architectures in Fig.~\ref{fig:model} have
been evaluated: SF-SS (SF without solution sharing), SF-MF (SF without
multi-way fusion), and the standard SF.
%
SF-SS implies $\beta=0$, where $\alpha$ is the free parameter and set to
2. SF-MF implies $\alpha+\beta=1$, where each thread iterates the step
of ($\alpha=1, \beta=0$) or ($\alpha=0, \beta=1$) so that it can take a
solution proposal in one step and a neighboring solution in the
next. For standard SF, we have used ($\alpha=1, \beta=1$).


after 4 iterations (alpha, beta),

%
%
%
%
To make the comparison simple, we restrict our proposal
generation to be constant-label proposals. Graph-cuts is used in fusing
a constant-label proposal as the energy is submodular. QPBO is used in
fusing a different solution from another thread as the energy is
non-submodular.
%
% Due to the lack of multi-way fusion, the swarm fusion architecture for
% the stereo problem is represented by the middle example at the bottom of
% Fig.~\ref{fig:model}.
